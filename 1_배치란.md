## 1. 배치 작업이란?
> 배치(Batch)는 일괄처리란 뜻을 갖고 있다.

배치 작업이란 일을 한번에 모아서 하는 것으로 이는 업무 효율을 위한 작업이라고 볼 수 있다.    
은행/가맹점 정산과 같이 실시간으로 수만건의 거래가 이루어지는 큰 데이터를 실시간으로 읽고 가공하고 저장하면    
**서버는 순식간에 자원을 다써버려** 다른 요청을 처리 할 수 없다.    
특정주기마다 데이터를 처리하는 작업이며,   
고객이 안보이는 위치에서 서비스를 지탱하며 업무 및 시스템의 효율을 위해서 없어서는 안되는 필수적이 작업이라고 볼 수 있다.    

배치 작업의 반대 : 실시간 작업
배치 작업 예시 : 이메일 쿠폰 발송, 가맹점 정산, 거래 명세서 생성, 추천 시스템 데이터 작업   


## 2. 배치 어플리케이션이란?
> 단발성으로 대용량의 데이터를 처리하는 어플리케이션

위와 같은 배치 작업은 **많게는 하루에 1~2번 적게는 한달에 한번** 수행된다.   
이를 위해 API를 구성하는 것은 너무 낭비이다.
또한 데이터가 너무 많아 실패가 나는 경우, 배치를 두명 이상이 돌려 중복이 될 경우   
이러한 고민들을 세세히 생각해보면 배치 어플리케이션을 구성하기 위해선 비즈니스 로직 외에 생각해야할 부분이 상당히 많다.

배치 어플리케이션은 다음의 조건을 만족해야 한다.

* 대용량 데이터 - 대량의 데이터를 가져오거나, 전달하거나, 계산하는 등의 처리
* 자동화 - 심각한 문제 해결을 제외하고는 **사용자 개입 없이 실행**
* 견고성 - 잘못된 데이터를 충돌/중단 없이 처리
* 신뢰성 - 무엇이 잘못되었는지를 **추적** (로깅, 알림)
* 성능 - **지정한 시간 안에 처리를 완료**하거나 동시에 실행되는 **다른 어플리케이션을 방해하지 않도록 수행**

   
## 3. 스프링 배치로 작업이 필요한 이유
> 1. 풍부한 기능
> 2. 일관성된 코드
> 3. 기존 서비스가 스프링 프레임워크로 되어있는 경우 호환 가능

#### 스프링 배치 구조 
<img width="626" alt="image" src="https://github.com/squirMM/spring_batch_repo/assets/62806067/8fab170a-5bce-46d2-a2c9-89a3d3c6a2a0">   

| 기술          | 설명                                        |
|--------------|--------------------------------------------|
| jobRepository| 배치가 수행될 때 수행되는 메타 데이터를 관리 및 시작시간, 종료시간 job등의 상태 및 배치 수행관련 데이터들 저장|
| jobLauncher  | job을 실행시켜주는 역할|
| job          | 하나의 배치 작업 (ex. 이메일 발송 작업)|
| step         | 하나의 배치 작업에서 세부 작업 내용 (ex. 발송을 위한 처리 step은 하나가 될 수 있고 여러개도 될 수있다.) |
